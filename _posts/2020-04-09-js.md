---
layout:     post
title:      "js迭代函数"
subtitle:   " \"js高级程序设计\""
date:       2020-04-09 16:56:24
author:     "ZH"
header-img: "img/post-sample-image.jpg"
catalog: true
tags:
    - JS
---
## js迭代方法
es5为数组定义了5个迭代方法。每个方法都接收两个参数：要在每一项上运行的函数和(可选的)运行该函数
的作用域对象——影响this的值。传入这些方法中的函数会接收三个参数：数组项的值，该项在数组中的位置和数组对象本身。
根据使用的方法不同，这个函数执行后的返回值可能会也可能不会影响方法的返回值。
### every方法
#### 定义
对数组中的每一项运行给定函数，如果该函数对每一项都返回true，则返回true    
```
var numbers = [1,2,3,4,5,6,7]
var everyResult = numbers.every(function(item,index,array){
    return (item>2)
}) // false
```
### filter方法
#### 定义
对数组转的每一项运行给定函数，返回该函数会返回true的项组成的数组    
```
var filterResult = numbers.filter(function(item,index,array){
    return (item>2)
}) // [3,4,5,6,7]
```
### forEach方法
#### 定义
对数组中的每一项运行给定函数。这个方法没有返回值    
```
numbers.forEach(function(item,index,array){
    //执行某些操作
})
```
### map方法
#### 定义
对数组中的每一项运行给定函数，返回每次函数调用的结果组成的函数    
```
var mapResult = numbers.map(function(item,index,array){
    return item*2
}) // [2,4,6,8,10,12,14]
```
### some方法
#### 定义
对数组中的每一项运行给定函数，如果该函数对任一项返回true，则返回true    
```
var numbers = [1,2,3,4,5,6,7]
var everyResult = numbers.every(function(item,index,array){
    return (item>2)
}) // true
```
以上方法都不会修改数组中包含的值    
## js归并方法
es5新增了两个归并数组的方法：reduce()和reduceRight()。这两个方法都会迭代数组的所有项。然后构建
一个最终返回的值。其中，reduce()方法从数组第一项开始，逐个遍历到最后。而reduceRight()则从
数组的最后一项开始，向前遍历到第一项。    
这两个方法都接收两个参数：一个在每一项上调用的函数和(可选的)作为归并基础的初始值。传给reduce()
和reduceRight()的函数接收4个参数:前一个值，当前值，项的索引和数组对象。这个函数返回的任何值都作为
第一个参数自动传给下一项。第一次迭代发生在数组的第二项上，因此第一个参数是数组的第一项，第二个参数就
是数组的第二项。    
### reduce
#### 例子
使用reduce方法求数组中所有值之和    
```
var sum = number.reduce(function(prev,cur,index,array){
    return prev + cur
}) // 28
```
### reduceRight
#### 例子
使用reduceRight求数组和    
```
var sum = number.reduceRight(function(prev,cur,index,array){
    return prev + cur
}) // 28
```

