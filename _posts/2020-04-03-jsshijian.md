---
layout:     post
title:      "jsäº‹ä»¶å§”æ‰˜"
subtitle:   " \"jsä¸å¾—ä¸è¯´çš„æ•…äº‹\""
date:       2020-04-03 23:16:24
author:     "ZH"
header-img: "img/post-sample-image.jpg"
catalog: true
tags:
    - js
---
### å‰è¨€
è¿™æ®µæ—¶é—´å¿™ç€æ­å»ºè‡ªå·±çš„é¡¹ç›®ï¼Œåšå®¢å°±æ²¡æ—¶é—´å»å†™äº†ï¼Œé‚£ä¸ªé¡¹ç›®æ­å»ºçœŸçš„æ˜¯ä¸€è¨€éš¾å°½å•Šï¼Œ
ä¹Ÿä¾§é¢åæ˜ äº†å½“å·¥å…·ç”¨å¤šäº†çœŸçš„ä¼šå¯¼è‡´åªä¼šæ•²ä»£ç è€Œä¸ä¼šå»æ€è€ƒé—®é¢˜
### æ­£åº
è¿™ç« åšå®¢æˆ‘æ¥è®²è¿°ä¸€ä¸‹jsä¸­çš„äº‹ä»¶å§”æ‰˜ï¼Œå…¶å®äº‹ä»¶å§”æ‰˜åœ¨é¢è¯•ä¸­å·²ç»å®é™…é¡¹ç›®ä¸­è¿ç”¨åˆ°çš„åœ°æ–¹å¾ˆå¤šï¼Œåªæ˜¯æƒ­æ„§çš„æ˜¯ï¼Œæˆ‘åœ¨é¡¹ç›®ä¸­è¿˜æ²¡å®é™…è¿ç”¨è¿‡ğŸ˜
#### jsäº‹ä»¶å§”æ‰˜
æ ¹æ®JavaScripté«˜çº§ç¨‹åºè®¾è®¡ä¸Šè®²ï¼šåªæŒ‡å®šä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå°±å¯ä»¥ç®¡ç†æŸä¸€ç±»å‹çš„æ‰€æœ‰äº‹ä»¶ã€‚åŸè°…æˆ‘JavaScripté«˜çº§ç¨‹åºè®¾è®¡è¿˜æ²¡çœ‹è¿‡ï¼Œç­‰å¿™å®Œè¿™æ®µæ—¶é—´ï¼Œä¸‹ç‚¹åŠŸå¤«æŠŠé‚£æœ¬ä¹¦ç»™å•ƒå®Œå§
#### ä¸ºä»€ä¹ˆè¦ç”¨äº‹ä»¶å§”æ‰˜
åœ¨JavaScriptä¸­ï¼Œæ·»åŠ åˆ°é¡µé¢ä¸Šçš„äº‹ä»¶å¤„ç†ç¨‹åºæ•°é‡å°†ç›´æ¥å…³ç³»åˆ°é¡µé¢çš„æ•´ä½“è¿è¡Œæ€§èƒ½ï¼Œå› ä¸ºæ“ä½œdomæ˜¯å¾ˆè´¹èµ„æºçš„ã€‚æ‰€ä»¥å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸»è¦æ€æƒ³ä¹‹ä¸€å°±æ˜¯å‡å°‘domæ“ä½œã€‚å¦‚æœè¦ç”¨äº‹ä»¶å§”æ‰˜ï¼Œå°±ä¼šå°†æ‰€æœ‰çš„æ“ä½œæ”¾åˆ°jsä¸­ï¼Œè¿™æ ·æ“ä½œdomåªéœ€è¦ä¸€æ¬¡ï¼Œèƒ½å¤§å¤§å‡å°‘domçš„äº¤äº’æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½    
æ¯ä¸ªå‡½æ•°éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯å¯¹è±¡å°±ä¼šå ç”¨å†…å­˜ã€‚å¦‚æœæˆ‘ä»¬è¦å¯¹100ä¸ªliè¿›è¡Œæ“ä½œï¼Œä¸ç”¨äº‹ä»¶å§”æ‰˜æˆ‘ä»¬å°±éœ€è¦100ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœæ›´å¤šçš„è¯ï¼Œé‚£æ— æ³•æƒ³è±¡æ€§èƒ½ä¼šæœ‰å¤šå·®ã€‚å¦‚æœç”¨äº‹ä»¶å§”æ‰˜ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥åªå¯¹å®ƒçš„çˆ¶çº§è¿™ä¹ˆä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œé‚£æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªå†…å­˜ç©ºé—´å°±è¡Œäº†ã€‚
#### äº‹ä»¶å§”æ‰˜çš„åŸç†
äº‹ä»¶å§”æ‰˜æ˜¯åˆ©ç”¨äº‹ä»¶çš„å†’æ³¡åŸç†æ¥å®ç°çš„ï¼Œä½•ä¸ºäº‹ä»¶å†’æ³¡å‘¢ï¼Ÿå°±æ˜¯äº‹ä»¶ä»æœ€æ·±çš„ç»“ç‚¹å¼€å§‹ï¼Œç„¶åé€æ­¥å‘ä¸Šä¼ æ’­äº‹ä»¶ï¼Œä¸¾ä¸ªä¾‹å­ï¼šé¡µé¢ä¸Šæœ‰è¿™ä¹ˆä¸€ä¸ªèŠ‚ç‚¹æ•°ï¼Œdiv>ul>li>a;ç»™æœ€é‡Œé¢çš„aåŠ ä¸Šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹ä»¶å°±ä¼šä¸€å±‚ä¸€å±‚å¾€å¤–æ‰§è¡Œï¼Œæ‰§è¡Œé¡ºåºa>li>ul>divã€‚æœ‰è¿™ä¹ˆä¸ªæœºåˆ¶ï¼Œæˆ‘ä»¬ç»™æœ€å¤–é¢çš„divåŠ ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆé‡Œé¢çš„ul,li,aåšç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œéƒ½ä¼šå†’æ³¡åˆ°æœ€å¤–å±‚çš„divä¸Šï¼Œæ‰€ä»¥éƒ½ä¼šè§¦å‘ã€‚
#### äº‹ä»¶å§”æ‰˜æ€ä¹ˆå®ç°
æˆ‘ä»¬å…ˆçœ‹æ®µä¾‹å­

```
<ul id="ul1">
    <li>111</li>
    <li>222</li>
    <li>333</li>
    <li>444</li>
</ul>
```
å®ç°åŠŸèƒ½æ˜¯ç‚¹å‡»li,å¼¹å‡º123

```
window.onload = function(){
    var oUl = document.getElementById("ul1");
    var aLi = oUl.getElementsByTagName('li');
    for(var i=0;i<aLi.length;i++){
        aLi[i].onclick = function(){
            alert(123);
        }
    }
}
```
æˆ‘ä»¬å¯ä»¥çœ‹å‡ºè¿™æ®µä»£ç æ€§èƒ½å¾ˆå·®ï¼Œç”¨äº‹ä»¶å§”æ‰˜æ¥å®ç°

```
window.onload = function(){
    var oUl = document.getElementById("ul1");
   oUl.onclick = function(){
        alert(123);
    }
}
```
è¿™é‡Œç”¨çˆ¶çº§ulåšäº‹ä»¶å¤„ç†ï¼Œå½“liè¢«ç‚¹å‡»æ—¶ï¼Œç”±äºå†’æ³¡åŸç†ï¼Œäº‹ä»¶å°±ä¼šå†’æ³¡åˆ°ulä¸Šï¼Œå› ä¸ºulä¸Šæœ‰ç‚¹å‡»äº‹ä»¶ï¼Œæ‰€ä»¥äº‹ä»¶å°±ä¼šè§¦å‘ï¼Œå½“ç„¶ï¼Œè¿™é‡Œå½“ç‚¹å‡»ulçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä¼šè§¦å‘çš„ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œå¦‚æœæˆ‘æƒ³è®©äº‹ä»¶ä»£ç†çš„æ•ˆæœè·Ÿç›´æ¥ç»™èŠ‚ç‚¹çš„äº‹ä»¶æ•ˆæœä¸€æ ·æ€ä¹ˆåŠï¼Œæ¯”å¦‚è¯´åªæœ‰ç‚¹å‡»liæ‰ä¼šè§¦å‘ï¼Œä¸æ€•ï¼Œæˆ‘ä»¬æœ‰ç»æ‹›ï¼š
Eventå¯¹è±¡æä¾›äº†ä¸€ä¸ªå±æ€§å«targetï¼Œå¯ä»¥è¿”å›äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œæˆ‘ä»¬æˆä¸ºäº‹ä»¶æºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œtargetå°±å¯ä»¥è¡¨ç¤ºä¸ºå½“å‰çš„äº‹ä»¶æ“ä½œçš„domï¼Œä½†æ˜¯ä¸æ˜¯çœŸæ­£æ“ä½œdomï¼Œå½“ç„¶ï¼Œè¿™ä¸ªæ˜¯æœ‰å…¼å®¹æ€§çš„ï¼Œæ ‡å‡†æµè§ˆå™¨ç”¨ev.targetï¼ŒIEæµè§ˆå™¨ç”¨event.srcElementï¼Œæ­¤æ—¶åªæ˜¯è·å–äº†å½“å‰èŠ‚ç‚¹çš„ä½ç½®ï¼Œå¹¶ä¸çŸ¥é“æ˜¯ä»€ä¹ˆèŠ‚ç‚¹åç§°ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨nodeNameæ¥è·å–å…·ä½“æ˜¯ä»€ä¹ˆæ ‡ç­¾åï¼Œè¿™ä¸ªè¿”å›çš„æ˜¯ä¸€ä¸ªå¤§å†™çš„ï¼Œæˆ‘ä»¬éœ€è¦è½¬æˆå°å†™å†åšæ¯”è¾ƒï¼ˆä¹ æƒ¯é—®é¢˜ï¼‰ï¼š

```
window.onload = function(){
		    ã€€ã€€var oUl = document.getElementById("ul1");
		    ã€€ã€€oUl.onclick = function(ev){
		    	ã€€ã€€ã€€ã€€var ev = ev || window.event;
		   		ã€€ã€€ã€€ã€€var target = ev.target || ev.srcElement;
		        ã€€ã€€ã€€ã€€if(target.nodeName.toLowerCase() == 'li'){
		        ã€€ ã€€ã€€ã€€ã€€ã€€ã€€	alert(123);
		ã€€ã€€ã€€ã€€ã€€ã€€ã€€  alert(target.innerHTML);
				ã€€ã€€ã€€ã€€}
		    ã€€ã€€}
		}
``` 
é€šè¿‡è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰§è¡Œä¸€æ¬¡domæ“ä½œï¼Œå°†æå¤§çš„å‡å°‘domæ“ä½œï¼Œæ€§èƒ½ä¼˜åŒ–å¯æƒ³è€ŒçŸ¥     ç°åœ¨è®²çš„éƒ½æ˜¯documentåŠ è½½å®Œæˆçš„ç°æœ‰domèŠ‚ç‚¹ä¸‹çš„æ“ä½œï¼Œé‚£ä¹ˆå¦‚æœæ˜¯æ–°å¢çš„èŠ‚ç‚¹ï¼Œæ–°å¢çš„èŠ‚ç‚¹ä¼šæœ‰äº‹ä»¶å—ï¼Ÿ

```
<input type="button" name="" id="btn" value="æ·»åŠ " />
    <ul id="ul1">
        <li>111</li>
        <li>222</li>
        <li>333</li>
        <li>444</li>
    </ul>
```
ç°åœ¨æ˜¯ç§»å…¥liï¼Œliå˜çº¢ï¼Œç§»å‡ºliï¼Œliå˜ç™½ï¼Œè¿™ä¹ˆä¸€ä¸ªæ•ˆæœï¼Œç„¶åç‚¹å‡»æŒ‰é’®ï¼Œå¯ä»¥å‘ulä¸­æ·»åŠ ä¸€ä¸ªliå­èŠ‚ç‚¹

```
window.onload = function(){
            var oBtn = document.getElementById("btn");
            var oUl = document.getElementById("ul1");
            var aLi = oUl.getElementsByTagName('li');
            var num = 4;
            
            //é¼ æ ‡ç§»å…¥å˜çº¢ï¼Œç§»å‡ºå˜ç™½
            for(var i=0; i<aLi.length;i++){
                aLi[i].onmouseover = function(){
                    this.style.background = 'red';
                };
                aLi[i].onmouseout = function(){
                    this.style.background = '#fff';
                }
            }
            //æ·»åŠ æ–°èŠ‚ç‚¹
            oBtn.onclick = function(){
                num++;
                var oLi = document.createElement('li');
                oLi.innerHTML = 111*num;
                oUl.appendChild(oLi);
            };
        }
```
ä½ ä¼šå‘ç°ï¼Œæ–°å¢åŠ çš„liæ˜¯æ²¡æœ‰äº‹ä»¶çš„ï¼Œé€šå¸¸çš„è§£å†³åŠæ³•å°±æ˜¯å°è£…å‡½æ•°ï¼Œç„¶ååœ¨ç”Ÿæˆçš„æ—¶å€™è°ƒç”¨
ä½†ä½ ä¼šå‘ç°æ€§èƒ½ä¼šå¾ˆå·®    
ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼š

```
window.onload = function(){
            var oBtn = document.getElementById("btn");
            var oUl = document.getElementById("ul1");
            var aLi = oUl.getElementsByTagName('li');
            var num = 4;
            
            //äº‹ä»¶å§”æ‰˜ï¼Œæ·»åŠ çš„å­å…ƒç´ ä¹Ÿæœ‰äº‹ä»¶
            oUl.onmouseover = function(ev){
                var ev = ev || window.event;
                var target = ev.target || ev.srcElement;
                if(target.nodeName.toLowerCase() == 'li'){
                    target.style.background = "red";
                }
                
            };
            oUl.onmouseout = function(ev){
                var ev = ev || window.event;
                var target = ev.target || ev.srcElement;
                if(target.nodeName.toLowerCase() == 'li'){
                    target.style.background = "#fff";
                }
                
            };
            
            //æ·»åŠ æ–°èŠ‚ç‚¹
            oBtn.onclick = function(){
                num++;
                var oLi = document.createElement('li');
                oLi.innerHTML = 111*num;
                oUl.appendChild(oLi);
            };
        }
```
é€šè¿‡äº‹ä»¶å§”æ‰˜ï¼Œæˆ‘ä»¬å¯ä»¥å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå½“ç”¨äº‹ä»¶å§”æ‰˜çš„æ—¶å€™ï¼Œæ ¹æœ¬å°±ä¸éœ€è¦å»éå†å…ƒç´ çš„å­èŠ‚ç‚¹ï¼Œåªéœ€è¦ç»™çˆ¶çº§å…ƒç´ æ·»åŠ äº‹ä»¶å°±å¥½äº†ï¼Œå…¶ä»–çš„éƒ½æ˜¯åœ¨jsé‡Œé¢çš„æ‰§è¡Œï¼Œè¿™æ ·å¯ä»¥å¤§å¤§çš„å‡å°‘domæ“ä½œï¼Œè¿™æ‰æ˜¯äº‹ä»¶å§”æ‰˜çš„ç²¾é«“æ‰€åœ¨    
### æ€»ç»“
é‚£ä»€ä¹ˆæ ·çš„äº‹ä»¶å¯ä»¥ç”¨äº‹ä»¶å§”æ‰˜ï¼Œä»€ä¹ˆæ ·çš„äº‹ä»¶ä¸å¯ä»¥ç”¨å‘¢ï¼Ÿ

é€‚åˆç”¨äº‹ä»¶å§”æ‰˜çš„äº‹ä»¶ï¼šclickï¼Œmousedownï¼Œmouseupï¼Œkeydownï¼Œkeyupï¼Œkeypressã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œmouseoverå’Œmouseoutè™½ç„¶ä¹Ÿæœ‰äº‹ä»¶å†’æ³¡ï¼Œä½†æ˜¯å¤„ç†å®ƒä»¬çš„æ—¶å€™éœ€è¦ç‰¹åˆ«çš„æ³¨æ„ï¼Œå› ä¸ºéœ€è¦ç»å¸¸è®¡ç®—å®ƒä»¬çš„ä½ç½®ï¼Œå¤„ç†èµ·æ¥ä¸å¤ªå®¹æ˜“ã€‚

ä¸é€‚åˆçš„å°±æœ‰å¾ˆå¤šäº†ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œmousemoveï¼Œæ¯æ¬¡éƒ½è¦è®¡ç®—å®ƒçš„ä½ç½®ï¼Œéå¸¸ä¸å¥½æŠŠæ§ï¼Œåœ¨ä¸å¦‚è¯´focusï¼Œblurä¹‹ç±»çš„ï¼Œæœ¬èº«å°±æ²¡ç”¨å†’æ³¡çš„ç‰¹æ€§ï¼Œè‡ªç„¶å°±ä¸èƒ½ç”¨äº‹ä»¶å§”æ‰˜äº†ã€‚
